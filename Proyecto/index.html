<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AnSolet ‚Ä¢ Inicio</title>

  <!-- ====== Tipograf√≠a (Google Fonts) ====== -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- ====== Hoja de estilos principal ====== -->
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- ====== HEADER ======
       Contiene el logo, la navegaci√≥n principal y los botones de inicio de sesi√≥n / registro
  =============================================== -->
  <header class="site-header">
  <div class="container nav">
    <a class="brand" href="index.html">
      <img src="./imagenes/ansolet.png" alt="AnSolet logo" class="logo">
    </a>

    <nav class="main-nav" aria-label="Navegaci√≥n principal">
  <a href="index.html"      class="">Inicio</a>
  <a href="destinos.html"   class="">Destinos</a>
  <a href="paquete.html"    class="">Tu Paquete</a>

  <!-- ‚ñº NUEVO: Dropdown Agregar productos -->
  <div class="nav-dropdown">
    <button id="adminDropBtn" class="nav-drop__btn" aria-haspopup="true" aria-expanded="false">
      Agregar productos ‚ñæ
    </button>
    <div id="adminDropMenu" class="nav-drop__menu" aria-hidden="true" role="menu">
      <a href="#" role="menuitem" data-open="modalAddFlight">A√±adir vuelo</a>
      <a href="#" role="menuitem" data-open="modalAddDestination">A√±adir destino</a>
    </div>
  </div>
</nav>


    <div class="right-nav">
      <a id="openLogin"    class="btn btn-login"    href="#">Iniciar sesi√≥n</a>
      <a id="openRegister" class="btn btn-register" href="#">Registrarse</a>
    </div>
  </div>
</header>


  <!-- ====== HERO / BUSCADOR DE VUELOS ======
       Secci√≥n principal con t√≠tulo, subt√≠tulo y formulario de b√∫squeda
  =============================================== -->
  <section class="hero">
    <div class="container">
      <h1>Encontr√° tu<br><span>pr√≥ximo vuelo</span></h1>
      <p class="sub">Compara y encontr√° las mejores ofertas</p>

      <!-- Formulario de b√∫squeda -->
      <form class="search-card" action="./vuelos.html" method="get">
        <div class="fields">
          <!-- Campos de b√∫squeda -->
        
<div class="field">
  <label for="origen">Origen</label>
  <select id="origen" name="origen" required>
    <option value="" selected disabled>Seleccion√° un origen</option>
    <option value="C√≥rdoba">C√≥rdoba</option>
    <option value="Buenos Aires">Buenos Aires</option>
    <option value="Rosario">Rosario</option>
    <option value="Mendoza">Mendoza</option>
  </select>
</div>

<div class="field">
  <label for="destino">Destino</label>
  <select id="destino" name="destino" required>
    <option value="" selected disabled>Seleccion√° un destino</option>
    <option value="Egipto">Egipto</option>
    <option value="Maldivas">Maldivas</option>
    <option value="Mallorca">Mallorca</option>
    <option value="Nueva York">Nueva York</option>
    <option value="Paris">Paris</option>
    <option value="Santorini">Santorini</option>
  </select>
</div>


          <div class="field">
            <label for="ida">Ida</label>
            <input id="ida" name="ida" type="date" />
          </div>

          <div class="field">
            <label for="vuelta">Vuelta</label>
            <input id="vuelta" name="vuelta" type="date" />
          </div>

       <div class="field small">
  <label for="pasajeros">Pasajeros</label>
  <select id="pasajeros" name="pasajeros" required>
    <option value="1" selected>1 pasajero</option>
    <option value="2">2 pasajeros</option>
    <option value="3">3 pasajeros</option>
    <option value="4">4 pasajeros</option>
    <option value="5">5 pasajeros</option>
    <option value="6">6 pasajeros</option>
  </select>
</div>


          <!-- Bot√≥n de b√∫squeda -->
          <div class="field">
            <label class="hidden">Buscar</label>
            <button class="btn btn-primary full" type="submit">Buscar vuelos</button>
          </div>
        </div>

        <!-- Selecci√≥n de clase -->
<div class="options" role="group" aria-label="Clase de vuelo">
  <label><input type="radio" name="clase" value="Economica" required> Econ√≥mica</label>
  <label><input type="radio" name="clase" value="Premium"> Premium</label>
  <label><input type="radio" name="clase" value="Business"> Business</label>
  <label><input type="radio" name="clase" value="First"> First</label>
</div>

      </form>
    </div>
  </section>

  <!-- ====== OFERTAS ======
       Muestra los packs destacados y la secci√≥n de ofertas especiales
  =============================================== -->
  <section class="offers">
    <div class="container offers-grid">

      <!-- Columna 1: Ofertas especiales -->
      <aside class="specials-card">
        <h2>Ofertas especiales</h2>
        <ul class="perks-list">
          <li>üí≥ Pagos Seguros</li>
          <li>üïí Cambios flexibles</li>
          <li>üïò Atenci√≥n 24/7</li>
        </ul>
      </aside>

      <!-- Pack 1 -->
      <article class="offer">
        <span class="badge">-30%</span>
        <h4>Pack Canc√∫n</h4>
        <p>7 noches</p>
        <a href="#" class="btn btn-offer">Ver oferta</a>
      </article>

      <!-- Pack 2 -->
      <article class="offer">
        <span class="badge">-20%</span>
        <h4>Pack Bariloche</h4>
        <p>5 noches</p>
        <a href="#" class="btn btn-offer">Ver oferta</a>
      </article>
    </div>
  </section>

  <!-- ====== FOOTER ======
       Contiene los iconos de redes sociales
  =============================================== -->
  <footer class="site-footer">
    <div class="container footer-inner">
      <div class="social">
        <a href="#" aria-label="Twitter/X">
          <img src="./imagenes/twitter.png" alt="Twitter" class="social-icon" />
        </a>
        <a href="#" aria-label="Facebook">
          <img src="./imagenes/facebook.png" alt="Facebook" class="social-icon" />
        </a>
        <a href="#" aria-label="Instagram">
          <img src="./imagenes/instagram.png" alt="Instagram" class="social-icon" />
        </a>
      </div>
    </div>
  </footer>

  <!-- ====== MODALES (Login y Registro) ======
       Ventanas emergentes para acceder o crear cuenta
  =============================================== -->
  <!-- Modal de inicio de sesi√≥n -->
  <div class="modal" id="loginModal" aria-hidden="true">
    <div class="modal__backdrop" data-close="true"></div>

    <section class="auth-card" role="dialog" aria-modal="true" aria-labelledby="loginTitle">
      <button class="auth-card__close" aria-label="Cerrar" data-close="true">√ó</button>
      <h2 id="loginTitle">Iniciar Sesi√≥n</h2>

      <!-- Formulario de inicio de sesi√≥n -->
      <form action="#" method="post" class="auth-form" novalidate>
        <label class="auth-field">
          <span>Correo electr√≥nico</span>
          <input type="email" placeholder="tu@correo.com" required>
        </label>

        <label class="auth-field">
          <span>Contrase√±a</span>
          <input type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
        </label>

        <div class="auth-row">
          <label class="remember"><input type="checkbox"> Recordarme</label>
          <a href="#" class="forgot">Olvid√© mi contrase√±a</a>
        </div>

        <button type="submit" class="btn btn-primary full btn-yellow">Ingresar</button>

        <!-- Separador -->
        <div class="divider"><span>o continuar con</span></div>

        <!-- Login con redes -->
        <div class="social-row">
          <button type="button" class="social-btn" aria-label="Google">
            <svg width="28" height="28" viewBox="0 0 24 24"><path fill="#EA4335" d="M12 10.2v3.9h5.5c-.2 1.3-1.6 3.7-5.5 3.7-3.3 0-6-2.7-6-6s2.7-6 6-6c1.9 0 3.2.8 4 1.5l2.7-2.6C16.7 3 14.5 2 12 2 6.9 2 2.8 6.1 2.8 11.2S6.9 20.5 12 20.5c6.9 0 9.2-4.8 8.6-7.9H12z"/></svg>
          </button>
          <button type="button" class="social-btn" aria-label="Apple">
            <svg width="28" height="28" viewBox="0 0 24 24"><path d="M16.365 13.2c.032 3.375 2.97 4.5 3.003 4.516-.025.08-.468 1.6-1.543 3.17-.93 1.35-1.89 2.7-3.393 2.73-1.485.03-1.96-.885-3.66-.885-1.7 0-2.22.855-3.615.915-1.455.06-2.56-1.46-3.495-2.805-1.905-2.745-3.36-7.74-1.41-11.115 1.005-1.77 2.805-2.895 4.77-2.925 1.485-.03 2.88 1.005 3.66 1.005.78 0 2.52-1.23 4.26-1.05.725.03 2.76.285 4.065 2.145-.105.065-2.43 1.425-2.37 4.4zM14.07 3.66c.75-.915 1.26-2.19 1.125-3.465-1.09.045-2.415.72-3.18 1.635-.7.81-1.305 2.145-1.14 3.39 1.2.09 2.445-.645 3.195-1.56z" fill="currentColor"/></svg>
          </button>
          <button type="button" class="social-btn" aria-label="Facebook">
            <svg width="28" height="28" viewBox="0 0 24 24"><path fill="#1877F2" d="M22 12.06C22 6.48 17.52 2 11.94 2S2 6.48 2 12.06C2 17.08 5.66 21.2 10.44 22v-7.04H7.9v-2.9h2.54V9.8c0-2.5 1.49-3.88 3.77-3.88 1.09 0 2.23.2 2.23.2v2.45h-1.25c-1.23 0-1.62.76-1.62 1.53v1.85h2.76l-.44 2.9h-2.32V22C18.34 21.2 22 17.08 22 12.06z"/></svg>
          </button>
        </div>
      </form>
    </section>
  </div>

  <!-- Modal de registro -->
  <div class="modal" id="registerModal" aria-hidden="true">
    <div class="modal__backdrop" data-close="true"></div>

    <section class="auth-card" role="dialog" aria-modal="true" aria-labelledby="registerTitle">
      <button class="auth-card__close" aria-label="Cerrar" data-close="true">√ó</button>
      <h2 id="registerTitle">Crear cuenta</h2>

      <!-- Formulario de registro -->
      <form id="registerForm" action="#" method="post" class="auth-form" novalidate>
        <div class="auth-grid">
          <label class="auth-field"><span>Nombre</span><input type="text" name="nombre" required></label>
          <label class="auth-field"><span>Apellido</span><input type="text" name="apellido" required></label>
          <label class="auth-field"><span>Correo electr√≥nico</span><input type="email" name="email" required></label>
          <label class="auth-field"><span>Tel√©fono (opcional)</span><input type="tel" name="telefono"></label>
          <label class="auth-field"><span>Contrase√±a</span><input id="pass1" type="password" minlength="8" required></label>
          <label class="auth-field"><span>Repetir contrase√±a</span><input id="pass2" type="password" minlength="8" required></label>
        </div>

        <label class="remember" style="margin-top: .2rem;">
          <input type="checkbox" required>
          <span>Acepto los <a href="#">T√©rminos</a> y la <a href="#">Pol√≠tica de privacidad</a>.</span>
        </label>

        <button type="submit" class="btn btn-primary full btn-yellow" style="margin-top: .5rem;">Crear cuenta</button>
      </form>
    </section>
  </div>


  <!-- ===== Modal: A√±adir vuelo ===== -->
<div class="modal" id="modalAddFlight" aria-hidden="true">
  <div class="modal__backdrop" data-close="true"></div>
  <section class="auth-card" role="dialog" aria-modal="true" aria-labelledby="addFlightTitle">
    <button class="auth-card__close" aria-label="Cerrar" data-close="true">√ó</button>
    <h2 id="addFlightTitle">A√±adir vuelo</h2>

    <form id="addFlightForm" class="auth-form" novalidate>
      <div class="auth-grid">
        <label class="auth-field"><span>Origen</span>
          <input type="text" id="af_origin" placeholder="Ej: C√≥rdoba (COR)" required>
        </label>
        <label class="auth-field"><span>Destino</span>
          <input type="text" id="af_destination" placeholder="Ej: Par√≠s (CDG)" required>
        </label>
        <label class="auth-field"><span>Fecha (salida)</span>
          <input type="date" id="af_date" required>
        </label>
        <label class="auth-field"><span>Aerol√≠nea</span>
          <input type="text" id="af_airline" placeholder="AnSolet Air" required>
        </label>
        <label class="auth-field"><span>N√∫mero de vuelo</span>
          <input type="text" id="af_flightNo" placeholder="AS 401" required>
        </label>
        <label class="auth-field"><span>Precio (USD)</span>
          <input type="number" id="af_price" min="0" step="1" placeholder="1299" required>
        </label>
        <label class="auth-field"><span>Duraci√≥n</span>
          <input type="text" id="af_duration" placeholder="16h 10m" required>
        </label>
        <label class="auth-field"><span>Escalas</span>
          <input type="text" id="af_stops" placeholder="1 escala / directo" required>
        </label>
      </div>

      <button type="submit" class="btn btn-primary full btn-yellow" style="margin-top:.5rem;">Guardar vuelo</button>
    </form>
  </section>
</div>

<!-- ===== Modal: A√±adir destino ===== -->
<div class="modal" id="modalAddDestination" aria-hidden="true">
  <div class="modal__backdrop" data-close="true"></div>
  <section class="auth-card" role="dialog" aria-modal="true" aria-labelledby="addDestinationTitle">
    <button class="auth-card__close" aria-label="Cerrar" data-close="true">√ó</button>
    <h2 id="addDestinationTitle">A√±adir destino</h2>

    <form id="addDestinationForm" class="auth-form" novalidate>
      <div class="auth-grid">
        <label class="auth-field"><span>Nombre del destino</span>
          <input type="text" id="ad_name" placeholder="Ej: Roma" required>
        </label>
        <label class="auth-field"><span>C√≥digo (IATA)</span>
          <input type="text" id="ad_code" placeholder="Ej: FCO" maxlength="3" required>
        </label>
        <label class="auth-field"><span>Precio orientativo (USD)</span>
          <input type="number" id="ad_price" min="0" step="1" placeholder="1200">
        </label>
        <label class="auth-field"><span>Mejor √©poca</span>
          <input type="text" id="ad_best" placeholder="Abr‚ÄìOct">
        </label>
      </div>

      <button type="submit" class="btn btn-primary full btn-yellow" style="margin-top:.5rem;">Guardar destino</button>
    </form>
  </section>
</div>

  <!-- ====== SCRIPT PRINCIPAL ======
       Controla la apertura/cierre de modales y validaciones simples
  =============================================== -->
 <script>
/* ===========================
   Helpers y base local
   =========================== */
const $  = (s) => document.querySelector(s);
const $$ = (s) => Array.from(document.querySelectorAll(s));

function openById(id){
  const el = document.getElementById(id);
  if(!el) return;
  el.classList.add('is-open');
  el.setAttribute('aria-hidden','false');
}
function closeById(id){
  const el = document.getElementById(id);
  if(!el) return;
  el.classList.remove('is-open');
  el.setAttribute('aria-hidden','true');
}

function ensureOption(select, label){
  if(!select || !label) return;
  const exists = Array.from(select.options).some(o => o.textContent.trim().toLowerCase() === label.trim().toLowerCase());
  if(!exists){
    const op = document.createElement('option');
    op.value = label;
    op.textContent = label;
    select.appendChild(op);
  }
}

// Persistencia de vuelos
const FLIGHTS = (() => {
  try { return JSON.parse(localStorage.getItem('flights') || '[]'); }
  catch { return []; }
})();
const saveFlights = () => localStorage.setItem('flights', JSON.stringify(FLIGHTS));

/* ===========================
   LOGIN / REGISTRO (modales ya existentes)
   =========================== */
const loginModal    = $('#loginModal');
const registerModal = $('#registerModal');

$('#openLogin')?.addEventListener('click', (e)=>{ e.preventDefault(); openById('loginModal'); });
$('#openRegister')?.addEventListener('click', (e)=>{ e.preventDefault(); openById('registerModal'); });

// Cerrar login/registro con fondo/X
[loginModal, registerModal].forEach(m=>{
  m?.addEventListener('click', (e)=>{
    const closer = e.target.closest('[data-close]');
    if (closer && m.contains(closer)) closeById(m.id);
  });
});

// Validaci√≥n simple de registro
$('#registerForm')?.addEventListener('submit', (e)=>{
  const p1 = $('#pass1')?.value.trim() ?? '';
  const p2 = $('#pass2')?.value.trim() ?? '';
  if(p1.length < 8){ e.preventDefault(); alert('La contrase√±a debe tener al menos 8 caracteres.'); return; }
  if(p1 !== p2){ e.preventDefault(); alert('Las contrase√±as no coinciden.'); }
});

/* ===========================
   Dropdown ‚ÄúAgregar productos‚Äù
   =========================== */
const adminBtn  = $('#adminDropBtn');
const adminMenu = $('#adminDropMenu');

adminBtn?.addEventListener('click', (e)=>{
  e.preventDefault();
  const open = adminMenu.classList.toggle('is-open');
  adminBtn.setAttribute('aria-expanded', open ? 'true' : 'false');
  adminMenu.setAttribute('aria-hidden', open ? 'false' : 'true');
});

// Cerrar dropdown al click afuera
document.addEventListener('click', (e)=>{
  if(!adminMenu) return;
  if(adminMenu.contains(e.target) || adminBtn.contains(e.target)) return;
  adminMenu.classList.remove('is-open');
  adminBtn?.setAttribute('aria-expanded','false');
  adminMenu?.setAttribute('aria-hidden','true');
});

// Abrir modales de ‚ÄúAgregar productos‚Äù desde el men√∫ (usa data-open)
adminMenu?.addEventListener('click', (e)=>{
  const target = e.target.closest('[data-open]');
  if(!target) return;
  e.preventDefault();
  openById(target.dataset.open);
  adminMenu.classList.remove('is-open');
});

/* ===========================
   Modales NUEVOS: Add Flight / Add Destination
   =========================== */
// Cerrar con fondo/X (cualquier [data-close]) y ESC
['modalAddFlight','modalAddDestination'].forEach(id=>{
  const modal = document.getElementById(id);
  if(!modal) return;
  modal.addEventListener('click', (e)=>{
    const closer = e.target.closest('[data-close]');
    if(closer && modal.contains(closer)) closeById(id);
  });
});
window.addEventListener('keydown', (e)=>{
  if(e.key === 'Escape'){
    closeById('modalAddFlight');
    closeById('modalAddDestination');
    closeById('loginModal');
    closeById('registerModal');
  }
});

// Alta de VUELO
const addFlightForm = $('#addFlightForm');
addFlightForm?.addEventListener('submit', (e)=>{
  e.preventDefault();

  const f = {
    id: Date.now(),
    origin:      $('#af_origin')?.value.trim(),
    destination: $('#af_destination')?.value.trim(),
    date:        $('#af_date')?.value,
    airline:     $('#af_airline')?.value.trim() || 'AnSolet Air',
    flightNo:    $('#af_flightNo')?.value.trim(),
    price:       parseInt($('#af_price')?.value || '0', 10) || 0,
    duration:    $('#af_duration')?.value.trim(),
    stops:       $('#af_stops')?.value.trim()
  };

  if(!f.origin || !f.destination || !f.date || !f.flightNo || !f.duration || !f.stops){
    alert('Complet√° todos los campos obligatorios.');
    return;
  }

  FLIGHTS.push(f);
  saveFlights();

  // Actualizar selects del buscador
  ensureOption($('#origen'),  f.origin);
  ensureOption($('#destino'), f.destination);

  alert('‚úÖ Vuelo agregado');
  addFlightForm.reset();
  closeById('modalAddFlight');
});

// Alta de DESTINO
const addDestinationForm = $('#addDestinationForm');
addDestinationForm?.addEventListener('submit', (e)=>{
  e.preventDefault();

  const name = $('#ad_name')?.value.trim();
  const code = ($('#ad_code')?.value || '').trim().toUpperCase();
  if(!name){ alert('Complet√° el nombre del destino.'); return; }

  const label = code ? `${name} (${code})` : name;
  ensureOption($('#destino'), label);

  alert('‚úÖ Destino agregado');
  addDestinationForm.reset();
  closeById('modalAddDestination');
});

// Hidratar selects desde lo ya guardado
(function hydrateSelectsFromFlights(){
  const originSel = $('#origen');
  const destSel   = $('#destino');
  if(!originSel && !destSel) return;
  const origins = new Set( FLIGHTS.map(f => f.origin).filter(Boolean) );
  const dests   = new Set( FLIGHTS.map(f => f.destination).filter(Boolean) );
  origins.forEach(o => ensureOption(originSel, o));
  dests.forEach(d => ensureOption(destSel, d));
})();
</script>

</body>
</html>

